<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script defer>
        class Node{
            constructor(data){
                this.data = data;
                this.right = null;
                this.left = null;
            }
        }

        class BinaryTree{
            constructor(array){
                this.root = null;
                this.array = this.sortArray(this.removeDuplicates(array));
            }
            sortArray(array){
                array.sort((a, b)=>{return a-b});
                return array;
            }
            removeDuplicates(array){
                let set = new Set(array);
                array = [...set];
                return array;
            }

            buildTree(array, start=0, end=array.length-1){
                if (start > end) return null;
                let mid = Math.floor((start + end) / 2);;
                let root = new Node(array[mid]);
                if (this.root === null) {
                    this.root = root;
                }
                root.left = this.buildTree(array, start, mid-1)
                root.right = this.buildTree(array, mid +1, end);                
                return root;
            }
            insert(currentNode, data){
                console.log(currentNode)
                if (currentNode === null){
                    return new Node(data);
                }
                if (currentNode.data === data){
                    return new Node(data);
                }
                if (data < currentNode.data ){
                    currentNode.left = this.insert(currentNode.left, data);
                }else if (data > currentNode.data){
                    currentNode.right = this.insert(currentNode.right, data);
                }
                return currentNode;
            }
            delete(currentNode, data){
                if (currentNode === null){
                    return currentNode;
                }else if (currentNode.data > data){
                    currentNode.left = this.delete(currentNode.left, data);
                }else if (currentNode.data < data){
                    currentNode.right = this.delete(currentNode.right, data);
                }else{
                    if (currentNode.left === null){
                        return currentNode.right;
                    }
                    if (currentNode.right === null){
                        return currentNode.left;
                    }
                    currentNode = currentNode.right;
                    while (currentNode !== null && currentNode.left !== null) {
                    currentNode = currentNode.left;
                }
                    return currentNode;
                }


            }
        }

        const prettyPrint = (node, prefix = '', isLeft = true) => {
            if (node === null) {
                return;
            }
            if (node.right !== null) {
                prettyPrint(node.right, `${prefix}${isLeft ? '│   ' : '    '}`, false);
            }
            console.log(`${prefix}${isLeft ? '└── ' : '┌── '}${node.data}`);
            if (node.left !== null) {
                prettyPrint(node.left, `${prefix}${isLeft ? '    ' : '│   '}`, true);
            }
            };

        myArray = [1, 7, 4, 23, 8, 9, 4, 3, 5, 7, 9, 67, 6345, 324];

        let myBinaryTree = new BinaryTree(myArray);
        let myTreesRoot = myBinaryTree.buildTree(myBinaryTree.array, 0, myBinaryTree.array.length-1);
        myBinaryTree.insert(myBinaryTree.root, 77);
        myBinaryTree.delete(myBinaryTree.root, 77);
    </script>
</head>
<body>
    
</body>
</html>